(this.webpackJsonpspiceblue=this.webpackJsonpspiceblue||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(11),r=n.n(a),i=(n(27),n(3)),l=(n(28),n(29),n(0)),o=function(e){var t=e.name,n=e.style,s=e.clickHandler;return Object(l.jsx)(c.a.Fragment,{children:Object(l.jsx)("button",{style:n,className:"btn",type:"submit",onClick:s,children:t})})},d=function(){var e=Object(i.g)();return Object(l.jsx)(c.a.Fragment,{children:Object(l.jsx)("div",{className:"bdy-bg",children:Object(l.jsx)("div",{className:"bdy-bg2",children:Object(l.jsx)("div",{className:"bdy-container",children:Object(l.jsxs)("p",{children:["Explore the registered ",Object(l.jsx)("span",{children:"T"}),"asks now",Object(l.jsx)(o,{clickHandler:function(){e.push("/alltasks")},style:{padding:"1rem 4rem",backgroundColor:"transparent",fontSize:"1.1rem",letterSpacing:"0.1rem",borderColor:"white"},name:"Take a Follow up"})]})})})})})},u=n(6),j=n(10),b=(n(36),n(9)),h=function(e){return{type:"SET_CURRENT_USER",payload:e}},m=function(e){return{type:"SET_CURRENT_USER_DETAILS",payload:e}},f=function(e){return{type:"SET_TEAM_DETAILS",payload:e}},p=Object(b.b)((function(e){return{currentUser:e.user.currentUser}}),(function(e){return{setCurrentUser:function(t){return e(h(t))},setCurrentUserDetails:function(t){return e(m(t))},setTeamDetails:function(t){return e(f(t))}}}))((function(e){var t=e.setCurrentUser,n=e.currentUser,a=e.setTeamDetails,r=e.setCurrentUserDetails,d=Object(s.useState)(!1),b=Object(u.a)(d,2),h=b[0],m=b[1],f=Object(i.g)();return Object(l.jsxs)(c.a.Fragment,{children:[Object(l.jsxs)("header",{className:"hd-container",children:[Object(l.jsx)("div",{className:"hd-logo",children:Object(l.jsx)("span",{children:"DEMO"})}),Object(l.jsxs)("div",{className:"hd-hide",children:[Object(l.jsx)(j.b,{className:"hd-link",to:"/home",children:Object(l.jsx)("i",{title:"Home",className:"fa fa-home"})}),Object(l.jsx)(j.b,{className:"hd-link",to:"/tasks",children:Object(l.jsx)("i",{title:"Tasks",className:"fa fa-tasks"})}),Object(l.jsx)(j.b,{className:"hd-link",children:Object(l.jsx)("i",{title:"Contact",className:"fa fa-address-card"})})]}),Object(l.jsx)("div",{className:"hd-menu hd-link",onClick:function(){return m((function(e){return!e}))},children:!0===h?Object(l.jsx)("i",{title:"close the menu",class:"fas fa-times"}):Object(l.jsx)("i",{title:"Menu",className:"fas fa-bars "})}),Object(l.jsx)("div",{style:{marginRight:"1rem"},children:null===n?Object(l.jsx)(o,{className:"hd-login",name:"Login",clickHandler:function(){f.push("/login")}}):Object(l.jsx)(o,{className:"hd-login",name:"Signout",clickHandler:function(){localStorage.removeItem("currentUser"),t(null),r(null),a(null)}})})]}),!0===h?Object(l.jsxs)("div",{className:"fullheader",children:[Object(l.jsx)(j.b,{className:"hd-link",onClick:function(){return m((function(e){return!e}))},to:"/home",children:Object(l.jsx)("i",{title:"Home",className:"fa fa-home"})}),Object(l.jsx)(j.b,{className:"hd-link",onClick:function(){return m((function(e){return!e}))},to:"/tasks",children:Object(l.jsx)("i",{title:"Tasks",className:"fa fa-tasks"})}),Object(l.jsx)(j.b,{className:"hd-link",onClick:function(){return m((function(e){return!e}))},children:Object(l.jsx)("i",{title:"Contact",className:"fa fa-address-card"})})]}):null]})})),O=n(4),x=(n(37),Object(b.b)(null,(function(e){return{setCurrentUser:function(t){return e(h(t))}}}))((function(e){var t=e.setCurrentUser,n=Object(i.g)(),a=Object(s.useState)({email:"",password:""}),r=Object(u.a)(a,2),d=r[0],j=r[1];return Object(l.jsx)(c.a.Fragment,{children:Object(l.jsx)("div",{className:"lg-container",children:Object(l.jsxs)("form",{className:"lg-form-container",onSubmit:function(e){e.preventDefault(),fetch("https://stage.api.sloovi.com/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then((function(e){"success"===e.status&&(localStorage.setItem("currentUser",JSON.stringify(Object(O.a)(Object(O.a)({},d),{},{loginStatus:!0,token:e.results.token}))),t(Object(O.a)(Object(O.a)({},d),{},{loginStatus:!0,token:e.results.token})))}))},children:[Object(l.jsx)("div",{className:"lg-form-close",onClick:function(){n.push("/home")},children:"x"}),Object(l.jsx)("span",{children:"LOGIN"}),Object(l.jsxs)("div",{className:"input-containter",children:[Object(l.jsx)("div",{className:"input-logo",children:Object(l.jsx)("i",{className:"fa fa-user"})}),Object(l.jsx)("input",{type:"email",required:!0,placeholder:"Email Address",onChange:function(e){return j(Object(O.a)(Object(O.a)({},d),{},{email:e.target.value}))}})]}),Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"input-containter",children:[Object(l.jsx)("div",{className:"input-logo",children:Object(l.jsx)("i",{className:"fa fa-key"})}),Object(l.jsx)("input",{type:"password",required:!0,placeholder:"password",onChange:function(e){return j(Object(O.a)(Object(O.a)({},d),{},{password:e.target.value}))}})]})}),Object(l.jsx)(o,{name:"SIGN-IN",style:{minWidth:"300px",marginTop:"1rem"}})]})})})}))),g=(n(38),function(e){return{type:"GET_TASK_DETAILS",payload:e}}),k=n(18),v=(n(39),function(e){var t=e.label,n=e.selectList,a=e.iconName,r=e.selectHandler,i=e.handlerType,o=void 0!==i&&i,d=Object(s.useState)(!1),j=Object(u.a)(d,2),b=j[0],h=j[1];return Object(l.jsx)(c.a.Fragment,{children:Object(l.jsxs)("div",{className:"dd-container",style:!0===o?{pointerEvents:"none"}:null,onClick:function(){return h((function(e){return!e}))},children:[Object(l.jsxs)("div",{className:"dd-box",style:!0===o?{backgroundColor:"rgba(0,0,0,0.1)"}:null,children:[Object(l.jsx)("i",{className:"fa fa-".concat(a)}),Object(l.jsx)("span",{children:t})]}),Object(l.jsx)("div",{className:"dd-list",style:!0===b?{display:"flex"}:null,children:n.map((function(e){return Object(l.jsx)("span",{onClick:function(e){return r(e)},value:e,children:e})}))})]})})}),y=["12:00 AM","12:30 AM","01:00 AM","01:30 AM","02:00 AM","02:30 AM","03:00 AM","03:30 AM","04:00 AM","04:30 AM","05:00 AM","05:30 AM","06:00 AM","06:30 AM","07:00 AM","07:30 AM","08:00 AM","08:30 AM","09:00 AM","09:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","01:00 PM","01:30 PM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM","05:30 PM","06:00 PM","06:30 PM","07:00 PM","07:30 PM","08:00 PM","08:30 PM","09:00 PM","09:30 PM","10:00 PM","10:30 PM","11:00 PM","11:30 PM"],N=(n(40),Object(b.b)((function(e){return{currentUser:e.user.currentUser,team:e.team.teamDetails}}),(function(e){return{getTaskDetails:function(t){return e(g(t))}}}))((function(e){var t=e.currentUser,n=e.closeHandler,a=e.team,i=e.task,d=e.getTaskDetails,j=e.httpMethod,b=e.handlerType,h=a.data.filter((function(e){return"accepted"===e.user_status})),m=Object(s.useState)({desc:"",date:"",time:0,assignedUser:"",isCompleted:0}),f=Object(u.a)(m,2),p=f[0],x=f[1],g=Object(s.useState)("Time"),N=Object(u.a)(g,2),T=N[0],M=N[1],A=function(e){x(Object(O.a)(Object(O.a)({},p),{},Object(k.a)({},e.target.name,e.target.value)))};return Object(s.useEffect)((function(){if(console.log(b),null!==i&&void 0!==i){var e="";e=null===(e=a.data.find((function(e){return e.id===i.assigned_user})))||void 0===e?i.assigned_user:e.name;for(var t=document.getElementById("assignedUser").getElementsByTagName("option"),n=-1,s=0;s<t.length;s++)if(t[s].innerText===e){n=s;break}document.getElementById("assignedUser").selectedIndex=-1===n?"0":n;var c=i.task_time,r=Math.floor(c/3600),l=c%60,o="";r>12?(r-=12,o="PM"):o="AM",0===(l=l>=15&&l<=45?30:0)&&(l="0"+l),r<10&&(r="0"+r);var d=r+":"+l+" "+o;x({desc:i.task_msg,date:i.task_date,time:d,assignedUser:e,isCompleted:i.is_completed}),M(d)}}),[]),r.a.createPortal(Object(l.jsx)(c.a.Fragment,{children:Object(l.jsx)("div",{className:"addtk-bg-container",children:Object(l.jsxs)("div",{className:"addtk-container",children:[Object(l.jsxs)("div",{className:"addtk-hd",children:[Object(l.jsx)("p",{children:"TASKS"}),Object(l.jsx)("span",{onClick:function(){return n((function(e){return!e}))},children:"x"})]}),Object(l.jsxs)("form",{className:"addtk-body-container",onSubmit:function(e){if(e.preventDefault(),0!==p.time&&""!==p.assignedUser){var s=p.time,c=Number(s.match(/^(\d+)/)[1]),a=Number(s.match(/:(\d+)/)[1]),r=s.match(/\s(.*)$/)[1];"PM"===r&&c<12&&(c+=12),"AM"===r&&12===c&&(c=0);var l=3600*c+60*a,o="";o="PUT"===j?"https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38/"+i.id:"https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38",fetch(o,{method:j,headers:{Authorization:"Bearer "+t.token,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({assigned_user:p.assignedUser,task_date:p.date,task_time:l,is_completed:p.isCompleted,time_zone:(new Date).getTimezoneOffset(),task_msg:p.desc})}).then((function(e){return e.json()})).then((function(e){"success"===e.status&&"Updated successfully"===e.message&&fetch("https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38",{method:"GET",headers:{Authorization:"Bearer "+t.token,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){d(e.results)}))})),n((function(e){return!e})),alert("Successfully ".concat("PUT"===j?"updated":"added"," the task"))}},children:[Object(l.jsxs)("div",{className:"input-div",children:[Object(l.jsx)("span",{children:"Text Description"}),Object(l.jsx)("input",{type:"text",required:!0,value:p.desc,name:"desc",disabled:b,onChange:A})]}),Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsxs)("div",{className:"input-div input-div2",style:{marginRight:"1rem"},children:[Object(l.jsx)("span",{children:"Date"}),Object(l.jsx)("input",{type:"date",disabled:b,max:"9999-12-31",value:p.date,placeholder:"YYYY-MM-DD",name:"date",onChange:A,required:!0})]}),Object(l.jsxs)("div",{className:"input-div input-div2",children:[Object(l.jsx)("span",{children:"Time"}),Object(l.jsx)(v,{label:T,handlerType:b,selectHandler:function(e){var t=e.target.innerText;M(t),x(Object(O.a)(Object(O.a)({},p),{},{time:t}))},iconName:"clock",selectList:y})]})]}),Object(l.jsxs)("div",{className:"input-div",children:[Object(l.jsx)("span",{children:"Assign User"}),Object(l.jsxs)("select",{name:"assignedUser",disabled:b,id:"assignedUser",onChange:A,children:[Object(l.jsx)("option",{value:"",children:"--please select an option--"}),h.map((function(e){return Object(l.jsx)("option",{name:e.name,value:e.user_id,children:e.name})}))]})]}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",margin:"2rem 0rem 0 1rem"},children:[Object(l.jsx)(o,{name:"Cancel",style:{backgroundColor:"transparent",color:"black",borderColor:"black",borderRadius:"5px"},clickHandler:function(){return n((function(e){return!e}))}}),!0===b?null:Object(l.jsx)(o,{name:"Save",style:{marginRight:"0",backgroundColor:"#149c3b",border:"none",borderRadius:"5px"}})]})]})]})})}),document.getElementById("modal"))}))),T=(n(41),function(e){var t=e.task,n=e.index,a=e.DeleteHandler,r=Object(s.useState)(!1),i=Object(u.a)(r,2),o=i[0],d=i[1],j=Object(s.useState)(!1),b=Object(u.a)(j,2),h=b[0],m=b[1];return Object(l.jsxs)(c.a.Fragment,{children:[Object(l.jsxs)("div",{className:"card-container",children:[Object(l.jsx)("div",{className:"card-hd",children:Object(l.jsxs)("span",{children:["TASK ",n+1]})}),Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("div",{className:"card-body-img",children:"img"}),Object(l.jsxs)("div",{className:"card-body-msg",children:[Object(l.jsx)("span",{children:t.task_msg}),Object(l.jsx)("span",{children:t.task_date})]})]}),Object(l.jsxs)("div",{className:"logo-container",children:[Object(l.jsx)("i",{class:"far fa-eye card-edit-logo",onClick:function(){d((function(e){return!e})),m((function(e){return!e}))},style:{color:"#3297a8"},title:"view the task"}),Object(l.jsx)("i",{className:"fa fa-edit card-edit-logo",onClick:function(){m(!1),d((function(e){return!e}))},title:"Edit the task"}),Object(l.jsx)("i",{class:"fas fa-trash-alt card-edit-logo",style:{color:"rgb(245, 48, 48)"},onClick:function(){return a(t)},title:"Delete"})]})]}),!0===o?Object(l.jsx)(N,{task:t,handlerType:h,httpMethod:"PUT",closeHandler:d}):null]})}),M=Object(b.b)((function(e){return{currentUser:e.user.currentUser,tasks:e.tasks.taskDetails}}),(function(e){return{getTaskDetails:function(t){return e(g(t))}}}))((function(e){var t=e.tasks,n=e.currentUser,a=e.getTaskDetails,r=Object(i.g)(),o=function(e){var t=window.confirm("Are you sure to delete this task?"),s=e.task_msg;t&&(fetch("https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38/"+e.id,{method:"DELETE",headers:{Authorization:"Bearer "+n.token,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"success"===e.status&&"Deleted successfully"===e.message&&fetch("https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38",{method:"GET",headers:{Authorization:"Bearer "+n.token,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e.results)}))})),alert("SuccessFully Deleted task--\x3e ".concat(s)))};return Object(s.useEffect)((function(){null!==n&&void 0!==n||r.push("/login"),null!==n&&fetch("https://stage.api.sloovi.com/task/lead_6996a7dcdddc4af3b4f71ccb985cea38",{method:"GET",headers:{Authorization:"Bearer "+n.token,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e.results)}))}),[n]),Object(l.jsx)(c.a.Fragment,{children:null!==n?Object(l.jsx)("div",{className:"tks-container",children:null!==t?t.map((function(e,t){return Object(l.jsx)(T,{task:e,DeleteHandler:o,index:t})})):null}):Object(l.jsx)("div",{className:"noRec-container",children:Object(l.jsx)("p",{children:"No records..."})})})})),A=(n(42),function(){var e=Object(s.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(l.jsxs)(c.a.Fragment,{children:[Object(l.jsxs)("div",{className:"tk-con",children:[Object(l.jsx)("div",{className:"tk-div tk-div-all",children:Object(l.jsx)(j.b,{to:"/alltasks",className:"tk-Link",children:"Explore all tasks"})}),Object(l.jsx)("div",{className:"tk-div tk-div-add",children:Object(l.jsx)("div",{onClick:function(){return a((function(e){return!e}))},children:"Add a task"})})]}),!0===n?Object(l.jsx)(N,{closeHandler:a,httpMethod:"POST"}):null]})});var C=Object(b.b)((function(e){return{currentUser:e.user.currentUser}}),(function(e){return{setCurrentUser:function(t){return e(h(t))},setCurrentUserDetails:function(t){return e(m(t))},setTeamDetails:function(t){return e(f(t))}}}))((function(e){var t=e.setCurrentUser,n=e.setCurrentUserDetails,a=e.setTeamDetails,r=e.currentUser;return Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("currentUser"));null!==e&&null===r&&(t(e),fetch("https://stage.api.sloovi.com/user",{method:"GET",headers:{Authorization:"Bearer "+e.token,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n(e.results)})),fetch("https://stage.api.sloovi.com/team",{method:"GET",headers:{Authorization:"Bearer "+e.token,Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a(e.results),console.log(e.results)})))}),[r]),Object(l.jsxs)(c.a.Fragment,{children:[Object(l.jsx)(p,{}),Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{exact:!0,path:"/",component:d}),Object(l.jsx)(i.b,{exact:!0,path:"/home",component:d}),Object(l.jsx)(i.b,{exact:!0,path:"/alltasks",component:M}),Object(l.jsx)(i.b,{exact:!0,path:"/login",component:x,children:null!=r?Object(l.jsx)(i.a,{to:"/home"}):Object(l.jsx)(x,{})}),Object(l.jsx)(i.b,{exact:!0,path:"/tasks",component:A,children:null===r?Object(l.jsx)(i.a,{to:"/login"}):Object(l.jsx)(A,{})})]})]})})),S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,44)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),c(e),a(e),r(e)}))},U=n(19),E={currentUser:null,currentUserDetails:null},D={teamDetails:null},_={taskDetails:null},P=Object(U.a)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(O.a)(Object(O.a)({},e),{},{currentUser:t.payload});case"SET_CURRENT_USER_DETAILS":return Object(O.a)(Object(O.a)({},e),{},{currentUserDetails:t.payload});default:return e}},team:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEAM_DETAILS":return Object(O.a)(Object(O.a)({},e),{},{teamDetails:t.payload});default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TASK_DETAILS":return Object(O.a)(Object(O.a)({},e),{},{taskDetails:t.payload});default:return e}}}),I=Object(U.b)(P);r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(j.a,{children:Object(l.jsx)(b.a,{store:I,children:Object(l.jsx)(C,{})})})}),document.getElementById("root")),S()}},[[43,1,2]]]);
//# sourceMappingURL=main.04744e34.chunk.js.map